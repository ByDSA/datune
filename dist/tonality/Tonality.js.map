{"version":3,"file":"Tonality.js","sourceRoot":"","sources":["../../src/tonality/Tonality.ts"],"names":[],"mappings":"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","sourcesContent":["import { Chromatic } from '../degrees/Chromatic';\r\nimport { Scale } from './Scale';\r\nimport { ChromaticUtils } from '../degrees/ChromaticUtils';\r\n\r\nexport class Tonality {\r\n    public static C = Tonality.from(Chromatic.C, Scale.MAJOR);\r\n    public static CC = Tonality.from(Chromatic.CC, Scale.MAJOR);\r\n    public static D = Tonality.from(Chromatic.D, Scale.MAJOR);\r\n    public static DD = Tonality.from(Chromatic.DD, Scale.MAJOR);\r\n    public static E = Tonality.from(Chromatic.E, Scale.MAJOR);\r\n    public static F = Tonality.from(Chromatic.F, Scale.MAJOR);\r\n    public static FF = Tonality.from(Chromatic.FF, Scale.MAJOR);\r\n    public static G = Tonality.from(Chromatic.G, Scale.MAJOR);\r\n    public static GG = Tonality.from(Chromatic.GG, Scale.MAJOR);\r\n    public static A = Tonality.from(Chromatic.A, Scale.MAJOR);\r\n    public static B = Tonality.from(Chromatic.B, Scale.MAJOR);\r\n\r\n    public static Cm = Tonality.from(Chromatic.C, Scale.MINOR);\r\n    public static CCm = Tonality.from(Chromatic.CC, Scale.MINOR);\r\n    public static Dm = Tonality.from(Chromatic.D, Scale.MINOR);\r\n    public static DDm = Tonality.from(Chromatic.DD, Scale.MINOR);\r\n    public static Em = Tonality.from(Chromatic.E, Scale.MINOR);\r\n    public static Fm = Tonality.from(Chromatic.F, Scale.MINOR);\r\n    public static FFm = Tonality.from(Chromatic.FF, Scale.MINOR);\r\n    public static Gm = Tonality.from(Chromatic.G, Scale.MINOR);\r\n    public static GGm = Tonality.from(Chromatic.GG, Scale.MINOR);\r\n    public static Am = Tonality.from(Chromatic.A, Scale.MINOR);\r\n    public static Bm = Tonality.from(Chromatic.B, Scale.MINOR);\r\n\r\n    private notes: Chromatic[] = [];\r\n\r\n    private constructor(private root: Chromatic, private scale: Scale) {\r\n        this.calculateNotes();\r\n    }\r\n\r\n    public static from(root: Chromatic, scale: Scale) {\r\n        return new Tonality(root, scale);\r\n    }\r\n\r\n    private calculateNotes(): void {\r\n        this.notes.push(this.root);\r\n\r\n        let lastNote = this.root;\r\n        let i = 0;\r\n        for (let n of this.scale.getIntervals()) {\r\n            if (i >= this.scale.getIntervals().length)\r\n                continue;\r\n            lastNote += n;\r\n            lastNote %= ChromaticUtils.NUMBER;\r\n            this.notes.push(lastNote);\r\n        }\r\n    }\r\n\r\n    getRoot(): Chromatic {\r\n        return this.root;\r\n    }\r\n\r\n    getScale(): Scale {\r\n        return this.scale;\r\n    }\r\n\r\n    getNotes(): Chromatic[] {\r\n        return Array.from(this.notes);\r\n    }\r\n}"]}